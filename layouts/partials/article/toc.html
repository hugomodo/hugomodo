{{/*
  NOTE: The conditional below is a little verbose, so let's explain it.

  First, if .TableOfContents then we can continue to check other huge condition.
  That condition is this...

  EITHER
    .Params.toc is true
  OR
    .Site.Params.toc is true AND .Params.toc is not set

  In English:

  If toc is true for page, render.
  Else if toc is true for site and isn't actually set (would be false) for page, render.
*/}}

{{ if and .TableOfContents (or .Params.toc (and .Site.Params.toc (not (isset .Params "toc")))) }}
  <aside>
    <header>
      <h2>Table of Contents</h2>
    </header>
    {{ .TableOfContents }}
  </aside>
{{ end }}
